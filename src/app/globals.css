@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&family=Sora:wght@600;700;800&family=Playfair+Display:ital,wght@0,400;1,400&display=swap');

:root{--sun:#f59e0b;--sun-light:#fbbf24;--sun-pale:#fffbeb;--sun-deep:#d97706;--peak:#0f172a;--text:#1e293b;--muted:#64748b}
body{font-family:'DM Sans',system-ui,sans-serif;color:var(--text);background:#f8fafc;-webkit-font-smoothing:antialiased}

/* Hero */
.hero-day{background:linear-gradient(180deg,#c8cfd6 0%,#dce1e7 20%,#eef2f6 45%,#fef9ee 75%,#fffbeb 100%);position:relative;overflow:hidden}
.hero-night{background:linear-gradient(180deg,#0f172a 0%,#1e293b 30%,#1e3a5f 60%,#1e3a5f 100%);position:relative;overflow:hidden}

@keyframes fd1{0%,100%{transform:translateX(-2%);opacity:.18}50%{transform:translateX(2%);opacity:.08}}
@keyframes fd2{0%,100%{transform:translateX(1%);opacity:.12}50%{transform:translateX(-2%);opacity:.06}}
.fog-w1{animation:fd1 12s ease-in-out infinite}
.fog-w2{animation:fd2 16s ease-in-out infinite}
@keyframes glow{0%,100%{box-shadow:0 0 16px rgba(245,158,11,.25),0 0 48px rgba(245,158,11,.1)}50%{box-shadow:0 0 24px rgba(245,158,11,.4),0 0 64px rgba(245,158,11,.15)}}
.sun-anim{animation:glow 4s ease-in-out infinite}
@keyframes moonglow{0%,100%{box-shadow:0 0 12px rgba(148,163,184,.2)}50%{box-shadow:0 0 20px rgba(148,163,184,.35)}}
.moon-anim{animation:moonglow 5s ease-in-out infinite}

/* Slider */
input[type=range]{-webkit-appearance:none;width:100%;height:5px;background:linear-gradient(90deg,#e2e8f0,#f59e0b);border-radius:3px;outline:none;cursor:pointer}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;background:white;border:2.5px solid var(--sun);border-radius:50%;cursor:pointer;box-shadow:0 1px 4px rgba(0,0,0,.12)}
input[type=range]::-moz-range-thumb{width:20px;height:20px;background:white;border:2.5px solid var(--sun);border-radius:50%;cursor:pointer}

/* Cards */
.escape-card{background:white;border-radius:14px;box-shadow:0 1px 3px rgba(0,0,0,.04),0 4px 16px rgba(0,0,0,.04);overflow:visible;transition:transform .2s,box-shadow .2s}
.escape-card:hover{transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,.06),0 12px 32px rgba(0,0,0,.06)}

/* Sun timeline - flat blocks */
.tl-bar{flex:1;height:14px;border-radius:4px;background:#f1f5f9;display:flex;gap:1px;overflow:hidden;position:relative}
.tl-sun{background:#f59e0b}
.tl-partial{background:#fcd34d}
.tl-cloud{background:#d1d5db}
.tl-night{background:#94a3b8}
.tl-now{position:absolute;top:-2px;bottom:-2px;width:2px;background:#ef4444;z-index:2;border-radius:1px}
.tl-now::after{content:'';position:absolute;top:-2px;left:-2px;width:6px;height:6px;background:#ef4444;border-radius:50%}

/* Setting toggles */
.setting-toggle{transition:background .15s}.setting-toggle:hover{background:#fafbfc}
.mode-btn-active{background:var(--peak);color:white;border-color:var(--peak);box-shadow:0 2px 6px rgba(15,23,42,.15)}
.chip-inactive{border-color:#e2e8f0;background:white;color:var(--muted)}.chip-inactive:hover{border-color:#cbd5e1}
.chip-active{background:var(--sun-pale);color:var(--sun-deep);border-color:var(--sun-light)}

/* FOMOscore popup - fixed positioning for desktop */
.score-wrap{position:relative;z-index:10}
.score-popup{position:absolute;left:0;top:calc(100% + 8px);z-index:50;background:white;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,.12),0 1px 4px rgba(0,0,0,.06);border:1px solid #f1f5f9;padding:10px 14px;min-width:220px;text-align:left}
.score-popup::before{content:'';position:absolute;bottom:100%;left:20px;border:6px solid transparent;border-bottom-color:white}

/* Entrance */
@keyframes su{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.anim-in{animation:su .35s ease-out forwards;opacity:0}
.d1{animation-delay:.05s}.d2{animation-delay:.1s}.d3{animation-delay:.15s}.d4{animation-delay:.2s}.d5{animation-delay:.25s}

/* Location pulse */
@keyframes pulse-ring{0%{transform:scale(.8);opacity:1}100%{transform:scale(2);opacity:0}}
.loc-pulse::after{content:'';position:absolute;inset:-3px;border-radius:50%;border:2px solid var(--sun);animation:pulse-ring 2s ease-out infinite}
